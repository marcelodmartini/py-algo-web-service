# ==========================================
# CONFIGURACIÓN AUTOMÁTICA UNIVERSAL
# Yahoo primero; si no hay datos y es cripto → Binance
# ==========================================

data:
  csv_path: "data/auto.csv" # ruta donde se guarda el CSV temporal
  auto_fetch: true # descarga automática si no existe
  symbol: "SPY" # ticker base (puede sobreescribirse por ?symbol= o /run-batch)
  interval: "1h" # intervalo para Yahoo
  timeframe: "1h" # intervalo para Binance
  start: "2023-01-01" # fecha inicial
  end: null # hasta hoy
  limit: 5000 # número máximo de velas
  datetime_col: "datetime" # nombre de columna temporal
  tz: "UTC" # zona horaria base de los datos

# ------------------------------------------
# INDICADORES A CALCULAR
# ------------------------------------------
features:
  rsi:
    period: 14
  ema:
    fast: 12
    slow: 26
  macd:
    fast: 12
    slow: 26
    signal: 9
  atr:
    period: 14

# ------------------------------------------
# ESTRATEGIA DE SEÑALES / PESOS
# ------------------------------------------
signals:
  weights:
    rsi: 0.3
    ema: 0.4
    macd: 0.3
  thresholds:
    long_min_score: 0.6 # entrada long
    exit_score: 0.3 # salida (take profit / stop)

# ------------------------------------------
# PARÁMETROS DEL BACKTEST
# ------------------------------------------
backtest:
  cash: 10000 # capital inicial (USD)
  commission: 0.001 # comisión por operación (0.1%)
  stake_pct: 0.1 # porcentaje de capital por operación
  printlog: false # logs de operaciones (true para debug)

# ------------------------------------------
# GESTIÓN DE RIESGO
# ------------------------------------------
risk:
  atr_stop_mult: 2.0
  atr_trail_mult: 1.5
  time_stop_bars: 48
  partial_tp: false
  stop_loss_pct: 0.03
  take_profit_pct: 0.06

# ------------------------------------------
# METADATOS / DOCUMENTACIÓN
# ------------------------------------------
meta:
  project: "py-algo-web-service"
  version: "1.0.0"
  description: >
    Backtest automático universal:
    - Acciones / ETFs vía Yahoo Finance
    - Criptomonedas vía Binance si Yahoo no tiene datos
    - Soporta ejecución única (/run-now) o múltiple (/run-batch)
