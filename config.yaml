# ==========================================
# CONFIGURACIÓN AUTOMÁTICA UNIVERSAL
# Yahoo primero; si no hay datos y es cripto → Binance
# ==========================================

data:
  csv_path: "data/auto.csv" # archivo de salida OHLCV
  auto_fetch: true # descarga automática si no existe
  symbol: "SPY" # puede ser AAPL, SPY, QQQ, BTC, BTC/USDT, BTC-USD, etc.
  interval: "1h" # intervalo para Yahoo
  timeframe: "1h" # intervalo para Binance
  start: "2023-01-01" # fecha inicial
  end: null # hasta hoy
  limit: 5000 # velas máximas a pedir
  datetime_col: "datetime"
  tz: "UTC"

# ------------------------------------------
# INDICADORES A CALCULAR
# ------------------------------------------
features:
  rsi:
    period: 14
  ema:
    fast: 12
    slow: 26
  macd:
    fast: 12
    slow: 26
    signal: 9
  atr:
    period: 14

# ------------------------------------------
# ESTRATEGIA DE SEÑALES / PESOS
# ------------------------------------------
signals:
  weights:
    rsi: 0.3
    ema: 0.4
    macd: 0.3
  thresholds:
    long_min_score: 0.6 # entrada long
    exit_score: 0.3 # salida (take profit / stop)

# ------------------------------------------
# PARÁMETROS DEL BACKTEST
# ------------------------------------------
backtest:
  cash: 10000 # capital inicial
  commission: 0.001 # comisión por operación
  stake_pct: 0.1 # % del capital por trade
  printlog: false

# ------------------------------------------
# GESTIÓN DE RIESGO
# ------------------------------------------
risk:
  atr_stop_mult: 2.0
  atr_trail_mult: 1.5
  time_stop_bars: 48
  partial_tp: false
  stop_loss_pct: 0.03
  take_profit_pct: 0.06

# ------------------------------------------
# METADATOS
# ------------------------------------------
meta:
  project: "py-algo-web-service"
  version: "1.0.0"
  description: "Backtest automático con router Yahoo→Binance"
